{{>layout/header}}

<h1>게시글 목록</h1>
<a href="/boards/board/save" role="button" class="btn btn-primary">글 등록</a>
<table class="table table-hover table-horizontal table-bordered">
    <thead class="thead-strong">
    <tr>
        <th>카테고리</th>
        <th>제목</th>
        <th>작성일</th>
        <th>조회수</th>
    </tr>
    </thead>
    <tbody id="tbody">
    {{#board}}
        <tr data-href="/boards/board/detail/{{id}}">
            <td>{{categorys.title}}</td>
            <td>{{title}}</td>
            <td>{{modifiedDate}}</td>
            <td>{{viewCount}}</td>
        </tr>
    {{/board}}
    </tbody>
</table>

{{>layout/footer}}
<script>
    // 행 전체를 클릭하면 상세 페이지로 이동하는 함수
    const rows = document.querySelectorAll("tr[data-href]");
    rows.forEach(row => {
        row.addEventListener("click", () => {
            const href = row.getAttribute("data-href");
            if (href) {
                window.location.href = href;
            }
        });
    });
</script>